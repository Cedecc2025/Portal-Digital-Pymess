<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Portal Empresarial</title>
    <link rel="stylesheet" href="../../public/css/base.css" />
    <link rel="stylesheet" href="./css/dashboard.css" />
  </head>
  <body>
    <main class="dashboard-shell">
      <header class="dashboard-header">
        <div class="header-copy">
          <p class="welcome-label">Bienvenido de nuevo</p>
          <h1 id="usernameDisplay">Usuario</h1>
        </div>
        <nav class="dash-actions" aria-label="Acciones del dashboard">
          <a class="btn btn-secondary" href="../tareas/index.html">Tareas</a>
          <button id="logoutButton" class="btn btn-outline" type="button">Cerrar sesi√≥n</button>
        </nav>
      </header>
      <section class="task-slider" aria-label="Tareas recientes">
        <header class="task-slider__header">
          <div>
            <h2>Tus tareas recientes</h2>
            <p id="taskSliderStatus">Consulta el avance de las √∫ltimas tareas registradas por tu equipo.</p>
          </div>
        </header>
        <div class="task-slider__shell">
          <button class="task-slider__nav" id="taskSliderPrev" type="button" aria-label="Ver tareas anteriores">‚Äπ</button>
          <div class="task-slider__viewport" id="taskSliderViewport">
            <div class="task-slider__track" id="task-slider-track" role="list"></div>
          </div>
          <button class="task-slider__nav" id="taskSliderNext" type="button" aria-label="Ver m√°s tareas">‚Ä∫</button>
        </div>
        <p class="task-slider__empty" id="taskSliderEmpty">
          A√∫n no has registrado tareas. Captura la primera desde el m√≥dulo de Tareas para verla aqu√≠.
        </p>
      </section>
      <section class="modules-grid">
        <a class="module-card module-card--primary" href="../costos/index.html" data-module="costos">
          <header class="module-card__header">
            <div class="module-card__icon" aria-hidden="true">üíº</div>
            <span class="module-badge badge--active">Actualizado</span>
          </header>
          <div class="module-card__body">
            <h2>Costos</h2>
            <p>Controla estructuras de costos, flujo de caja y m√°rgenes para anticiparte a los n√∫meros.</p>
            <ul class="module-card__highlights">
              <li>Flujo de caja con filtros mensuales</li>
              <li>Alertas sobre gastos recurrentes</li>
              <li>Reportes exportables en un clic</li>
            </ul>
          </div>
          <footer class="module-card__footer">
            <span class="module-button">Ir a Costos</span>
          </footer>
        </a>
        <div class="module-card module-card--disabled">
          <header class="module-card__header">
            <div class="module-card__icon" aria-hidden="true">üõ†Ô∏è</div>
            <span class="module-badge badge--soon">En proceso</span>
          </header>
          <div class="module-card__body">
            <h2>M√°s m√≥dulos</h2>
            <p>Seguimos trabajando en nuevos m√≥dulos como CRM, Cat√°logo y Chatbot para complementar tu portal.</p>
            <ul class="module-card__highlights">
              <li>Disponibles pr√≥ximamente</li>
              <li>Integraci√≥n total con el dashboard</li>
              <li>Notificaciones cuando est√©n listos</li>
            </ul>
          </div>
          <footer class="module-card__footer">
            <span class="module-button ghost">Pr√≥ximamente</span>
          </footer>
        </div>
      </section>
    </main>
    <section class="task-modal" id="taskModal" hidden>
      <div class="task-modal__backdrop" id="taskModalBackdrop"></div>
      <article
        class="task-modal__dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="taskModalTitle"
      >
        <button class="task-modal__close" id="taskModalClose" type="button" aria-label="Cerrar detalle de tarea">
          √ó
        </button>
        <header class="task-modal__header">
          <span class="task-modal__badge" id="taskModalPriority">Prioridad</span>
          <h3 id="taskModalTitle">T√≠tulo de la tarea</h3>
          <p id="taskModalMeta" class="task-modal__meta"></p>
        </header>
        <section class="task-modal__body">
          <h4>Descripci√≥n</h4>
          <p id="taskModalDescription"></p>
        </section>
      </article>
    </section>
    <script type="module" src="../../lib/supabaseClient.js"></script>
    <script type="module" src="../../lib/authGuard.js"></script>
    <script type="module" src="./js/dashboard.js"></script>
  </body>
</html>
